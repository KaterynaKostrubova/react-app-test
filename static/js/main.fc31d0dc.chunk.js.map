{"version":3,"sources":["components/MovieItem.jsx","components/MovieTabs.jsx","components/MoviesPagination.jsx","components/App.jsx","utils/api.js","index.js"],"names":["MovieItem","state","willWatch","this","props","data","deleteMovie","addMovieToWillWatch","deleteMovieFromWillWatch","className","src","backdrop_path","poster_path","alt","title","vote_average","type","onClick","setState","React","Component","MovieTabs","nextProps","nextState","nextContext","sort_by","updateSortBy","handleClick","value","event","getClassLink","MoviesPagination","page","total_pages","updateMoviesPagination","handleStatic","id","handlePrev","handleNext","App","getMovies","fetch","then","response","json","movies","results","movie","updateMovies","filter","item","updateMoviesWillWatch","moviesWillWatch","push","prevProps","prevState","snapshot","map","key","length","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.fc31d0dc.chunk.js","sourcesContent":["import React from \"react\";\n\nclass MovieItem extends React.Component {\n  state = {\n    willWatch: false\n  };\n\n  // componentWillUnmount() {\n  //   // console.log('unmount', this.props.data.title);\n  // }\n\n    render() {\n        const {\n          data,\n          deleteMovie,\n          addMovieToWillWatch,\n          deleteMovieFromWillWatch\n        } = this.props;\n\n        return (\n          <div className=\"card\">\n            <img\n              className=\"card-img-top\"\n              src={`https://image.tmdb.org/t/p/w500${data.backdrop_path ||\n                data.poster_path}`}\n              alt=\"\"\n            />\n            <div className=\"card-body\">\n              <h6 className=\"card-title\">{data.title}</h6>\n              <div className=\"d-flex justify-content-between align-items-center\">\n                <p className=\"mb-0\">Rating: {data.vote_average}</p>\n                {this.state.willWatch ? (\n                  <button\n                    type=\"button\"\n                    className=\"btn btn-success\"\n                    onClick={() => {\n                      this.setState({\n                        willWatch: false\n                      });\n                      deleteMovieFromWillWatch(data);\n                    }}\n                  >\n                    Will Watch\n                  </button>\n                ) : (\n                    <button\n                      type=\"button\"\n                      className=\"btn btn-secondary\"\n                      onClick={() => {\n                        this.setState({\n                          willWatch: true\n                        });\n                        addMovieToWillWatch(data);\n                      }}\n                    >\n                      Will Watch\n                  </button>\n                  )}\n              </div>\n              <button\n                type=\"button\"\n                onClick={() => {\n                  deleteMovie(data);\n                }}\n              >\n                Delete\n              </button>\n            </div>\n          </div>\n        );\n    }\n}\n\nexport default MovieItem;\n","import React from \"react\";\n\nclass MovieTabs extends React.Component {\n\n    // componentWillReceiveProps(nextProps, nextState){\n    //     console.log(\"nextProps\", nextProps.sort_by);\n    //     console.log(\"prevProps\", this.props.sort_by);\n    // }\n\n    shouldComponentUpdate(nextProps, nextState, nextContext) {\n        if(nextProps.sort_by !== this.props.sort_by){\n            return  true;\n        } else{\n            return false;\n        }\n\n    }\n\n    render() {\n        const { sort_by, updateSortBy } = this.props;\n\n        const handleClick = value => {\n            return event => {\n                updateSortBy(value);\n            }\n        };\n\n        const getClassLink = (value) => {\n            return `nav-link ${sort_by === value ? 'active' : ''}`\n        };\n\n        return (\n            <ul className=\"tabs nav nav-pills\">\n                <li className=\"nav-item\">\n                    <div className={getClassLink('popularity.desc')}\n                         onClick = {handleClick('popularity.desc')}\n                    >\n                        Popularity\n                    </div>\n                </li>\n                <li className=\"nav-item\">\n                    <div className={getClassLink('revenue.desc')}\n                         onClick = {handleClick('revenue.desc')}\n                    >\n                        Revenue\n                    </div>\n                </li>\n                <li className=\"nav-item\">\n                    <div className={getClassLink('vote_average.desc')}\n                         onClick = {handleClick('vote_average.desc')}\n                    >\n                        Vote avetage\n                    </div>\n                </li>\n            </ul>\n\n        )\n    }\n}\n\nexport default MovieTabs\n\n//, popularity.asc, popularity.desc, release_date.asc, release_date.desc, revenue.asc, revenue.desc, primary_release_date.asc, primary_release_date.desc, original_title.asc, original_title.desc, vote_average.asc, vote_average.desc, vote_count.asc, vote_count.desc","import React from \"react\";\n\nclass MoviesPagination extends React.Component {\n\n    render(){\n        const {page, total_pages, updateMoviesPagination} = this.props;\n\n        const handleNext = (value) => {\n            if (value < total_pages){\n                return(event) => {\n                    updateMoviesPagination(++value)\n                }\n            }\n        };\n\n\n        const handlePrev = (value) => {\n            if(value > 1){\n                return(event) => {\n                    updateMoviesPagination(--value)\n                }\n            }\n        };\n\n        const handleStatic = (value) => {\n            return(event) => {\n                updateMoviesPagination(value)\n            }\n\n        };\n\n        return(\n            <div className=\"d-flex justify-content-center\">\n                <button type=\"button\" id='prev' className='btn btn-sm btn-dark' onClick={handlePrev(page)}>\n                    PREV\n                </button>\n                <button type=\"button\" id='first' className='btn text-muted' onClick={handleStatic(1)}>\n                    1\n                </button>\n                <div className=\"btn btn-outline-info\">\n                    -{page}-\n                </div>\n                <button type=\"button\" id='last' className='btn text-muted' onClick={handleStatic(total_pages)}>\n                    {total_pages}\n                </button>\n                <button type=\"button\" id='next' className='btn btn-sm btn-dark' onClick={handleNext(page)}>\n                    NEXT\n                </button>\n            </div>\n        )\n    }\n}\n\nexport default MoviesPagination","import React from \"react\";\n// import { moviesData } from \"../moviesData\";\nimport MovieItem from \"./MovieItem\";\nimport {API_URL, API_KEY_3} from \"../utils/api\";\nimport MoviesTabs from \"./MovieTabs\";\nimport MoviesPagination from \"./MoviesPagination\";\n\n// UI = fn(state, props)\n\n// App = new React.Component()\n\nclass App extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      movies: [],\n      moviesWillWatch: [],\n      sort_by: \"popularity.desc\",\n      page: 1,\n    };\n  }\n\n  componentDidMount() {\n    this.getMovies()\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if(prevState.sort_by !== this.state.sort_by || prevState.page !== this.state.page){\n      this.getMovies()\n    }\n  }\n\n  getMovies = () => {\n    fetch(`${API_URL}/discover/movie?page=${this.state.page}&api_key=${API_KEY_3}&sort_by=${this.state.sort_by}`).then((response) => {\n      return response.json()\n    }).then((data) => {\n      this.setState({\n        movies: data.results,\n        total_pages: data.total_pages\n      })\n    });\n  };\n\n  deleteMovie = movie => {\n    const updateMovies = this.state.movies.filter(item => item.id !== movie.id);\n    this.setState({\n      movies: updateMovies\n    });\n  };\n\n  addMovieToWillWatch = movie => {\n    const updateMoviesWillWatch = [...this.state.moviesWillWatch];\n    updateMoviesWillWatch.push(movie);\n\n    this.setState({\n      moviesWillWatch: updateMoviesWillWatch\n    });\n  };\n\n  deleteMovieFromWillWatch = movie => {\n    const updateMoviesWillWatch = this.state.moviesWillWatch.filter(\n      item => item.id !== movie.id\n    );\n\n    this.setState({\n      moviesWillWatch: updateMoviesWillWatch\n    });\n  };\n\n  updateSortBy = value => {\n    this.setState({\n      sort_by: value,\n    })\n  };\n\n  updateMoviesPagination = value => {\n    this.setState({\n      page: value,\n    })\n  };\n\n  render() {\n    return (\n      <div className=\"container\">\n        <div className=\"row mt-4\">\n          <div className=\"col-9\">\n            <div className=\"row mb-4\">\n              <div className=\"col-12\">\n                  <MoviesTabs sort_by={this.state.sort_by}\n                              updateSortBy={this.updateSortBy}/>\n              </div>\n            </div>\n            <div className=\"row\">\n              {this.state.movies.map(movie => {\n                return (\n                  <div className=\"col-6 mb-4\" key={movie.id}>\n                    <MovieItem\n                      data={movie}\n                      deleteMovie={this.deleteMovie}\n                      addMovieToWillWatch={this.addMovieToWillWatch}\n                      deleteMovieFromWillWatch={this.deleteMovieFromWillWatch}\n                    />\n                  </div>\n                );\n              })}\n            </div>\n            <div className=\"row mb-4\">\n              <div className=\"col-12\">\n                  <MoviesPagination\n                      total_pages={this.state.total_pages}\n                      page={this.state.page}\n                      updateMoviesPagination={this.updateMoviesPagination}\n                  />\n              </div>\n            </div>\n          </div>\n          <div className=\"col-3\">\n            <h4>Will Watch: {this.state.moviesWillWatch.length} movies</h4>\n            <ul className=\"list-group\">\n              {this.state.moviesWillWatch.map(movie => (\n                <li key={movie.id} className=\"list-group-item\">\n                  <div className=\"d-flex justify-content-between\">\n                    <p>{movie.title}</p>\n                    <p>{movie.vote_average}</p>\n                  </div>\n                </li>\n              ))}\n            </ul>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","export const API_URL = \"https://api.themoviedb.org/3\";\n\nexport const API_KEY_3 = \"3f4ca4f3a9750da53450646ced312397\";\n\nexport const API_KEY_4 =\n  \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzZjRjYTRmM2E5NzUwZGE1MzQ1MDY0NmNlZDMxMjM5NyIsInN1YiI6IjVhYzlmNWRkOTI1MTQxNjJhZTA1Njk0NiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Fc4f9DVB6pFWh6hIjYe0NCC4pImdmNzDIfi_3Nb3tC4\";\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./stylesheets/index.scss\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}